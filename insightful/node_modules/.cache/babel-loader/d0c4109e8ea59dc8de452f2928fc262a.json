{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nathan\\\\go\\\\src\\\\insightful\\\\insightful\\\\src\\\\DashBoard.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport { Table, Button, ButtonGroup, ButtonToolbar } from 'reactstrap';\nimport { Card, CardImg, CardText, CardBody, CardTitle, CardDeck, CardGroup } from 'reactstrap';\nimport './index.js';\nimport './css/DashBoard.css';\nimport firebase from 'firebase/app';\nexport class DashBoard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderMetricMonthly = () => {\n      let rootPath = firebase.database().ref('metricGoalsMonths');\n      let monthMap = new Map();\n      rootPath.once('value', snapshot => {\n        let info = snapshot.val();\n        let keys = Object.keys(info);\n        keys.map(key => {\n          let intKey = parseInt(key, 10); // If the our prop of metric calculation IDs contains the ID, add it to the month map.\n\n          if (this.props.metricAreaCalculationIDs.includes(intKey)) {\n            monthMap.set(key, info[key]);\n          }\n        });\n        this.arrayMonthCalculations(monthMap);\n      });\n    };\n\n    this.renderMetricQuarterly = () => {\n      let rootPath = firebase.database().ref('metricGoalsQuarters');\n      let quarterMap = new Map();\n      rootPath.once('value', snapshot => {\n        let info = snapshot.val();\n        let keys = Object.keys(info);\n        keys.map(key => {\n          let intKey = parseInt(key, 10);\n\n          if (this.props.metricAreaCalculationIDs.includes(intKey)) {\n            quarterMap.set(key, info[key]);\n          }\n        });\n        this.arrayQuarterCalculations(quarterMap);\n      });\n    };\n\n    this.state = {\n      // Calculations should have the same array lengths...\n      // Work on centralizing the data so we aren't hoping\n      // everything is operating on the same index of the array\n      metricAreaCalculationsMonth: [],\n      metricAreaCalculationsQuarter: [],\n      metricAreaCalculationsAnnual: [],\n      currentCalculation: 0 // Will always default to the first value in an array\n\n    };\n  } // Do any information retrieval here\n\n\n  componentDidMount() {\n    // Retrieve monthly information for a metric calculation\n    this.renderMetricMonthly();\n    this.renderMetricQuarterly();\n  } // Convert map to an array in the state\n\n\n  arrayMonthCalculations(map) {\n    this.setState(state => {\n      let monthArray = Array.from(map.entries()).map(key => {\n        return key;\n      });\n      state.metricAreaCalculationsMonth = monthArray;\n      return state;\n    });\n  } // Convert a map to an array in the state\n\n\n  arrayQuarterCalculations(map) {\n    this.setState(state => {\n      let quarterArray = Array.from(map.entries()).map(key => {\n        return key;\n      });\n      state.metricAreaCalculationsQuarter = quarterArray;\n      return state;\n    });\n  }\n\n  // leftButtonClick() {\n  //     let intVal = this.state.currentCalculation\n  //     this.setState((state) => {\n  //         if (intVal = 0) {\n  //             state.currentCalculation = state.metricAreaCalculationsMonth.length - 1\n  //         } else {\n  //             state.currentCalculation = intVal - 1\n  //         }\n  //     })\n  // }\n  render() {\n    let metricElements = Array.from(this.props.metricAreaCalculations.entries()).map(key => {\n      //Pass metricName, metricID into metricAreaCard as props then also pass in a list of props containing information about that specific metric\n      return React.createElement(MetricCalculationRow, {\n        metrics: key[1].metric,\n        metricCalc: key[1].metricCalculation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      });\n    });\n    let leftButtonString = \"<\";\n    let rightButtonString = \">\";\n    let currentMonthCalc = this.state.metricAreaCalculationsMonth;\n    let numInt = this.state.currentCalculation;\n    let test1 = currentMonthCalc[numInt];\n\n    if (test1) {\n      let test2 = test1[1];\n      let keys = Object.keys(test2);\n      keys.map(key => {\n        let test3 = test2[key]; // console.log(test3)\n\n        return React.createElement(MetricMonthly, {\n          target: test3.target,\n          month: test3.month,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        });\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \" \", this.props.metricAreaInfo, \" \"), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \" \", this.props.metricAreaID, \" \"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \" Metric Area Summary \"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \" Owner: \", this.props.metricAreaOwner, \" \"), React.createElement(Table, {\n      bordered: true,\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \" Metric \"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \" Metric Calculations \"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, metricElements)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, leftButtonString), React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, rightButtonString)), React.createElement(MetricQuarterly, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }), React.createElement(MetricAnnuals, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })));\n  }\n\n} // Represents a single row in the metric/metric calculations table\n// Contains all metric name and metric calculation names for a metric area\n\nclass MetricCalculationRow extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, this.props.metrics), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, this.props.metricCalc));\n  }\n\n}\n\nclass MetricMonthly extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {// console.log(\"Component mounted!\")\n    // console.log()\n    // console.log(this.props.)\n  }\n\n  month(num) {\n    if (num == 1) {\n      return \"January\";\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }) // <div>\n    //     <h1>{this.props.metricCalcIDs}</h1>\n    //     <h2>{this.props.quarter}</h2>\n    //     <Table responsive>\n    //         <tbody>\n    //             <tr>\n    //                 <th>Actual</th>\n    //                 <th>Target</th>\n    //             </tr>\n    //             <tr>\n    //                 <th>{this.props.actual}</th>\n    //                 <th>{this.props.target}</th>\n    //             </tr>\n    //         </tbody>\n    //     </Table>\n    // </div>\n    ;\n  }\n\n} // // Represents a single month metric component\n// class MetricMonthRow extends Component {\n//     constructor(props) {\n//         super(props);\n//     }\n// }\n\n\nclass MetricQuarterly extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(Table, {\n      responsive: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Actual\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Target\")), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, this.props.actual), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, this.props.target)))));\n  }\n\n}\n\nclass MetricAnnuals extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, \"Actual\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"Target\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"Highlights\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"Lowlights\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"Correction of Error\")), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, this.props.actual), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, this.props.target), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, this.props.highlight), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, this.props.lowlight), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, this.props.correction)))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/nathan/go/src/insightful/insightful/src/DashBoard.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","Table","Button","ButtonGroup","ButtonToolbar","Card","CardImg","CardText","CardBody","CardTitle","CardDeck","CardGroup","firebase","DashBoard","constructor","props","renderMetricMonthly","rootPath","database","ref","monthMap","Map","once","snapshot","info","val","keys","Object","map","key","intKey","parseInt","metricAreaCalculationIDs","includes","set","arrayMonthCalculations","renderMetricQuarterly","quarterMap","arrayQuarterCalculations","state","metricAreaCalculationsMonth","metricAreaCalculationsQuarter","metricAreaCalculationsAnnual","currentCalculation","componentDidMount","setState","monthArray","Array","from","entries","quarterArray","render","metricElements","metricAreaCalculations","metric","metricCalculation","leftButtonString","rightButtonString","currentMonthCalc","numInt","test1","test2","test3","target","month","metricAreaInfo","metricAreaID","metricAreaOwner","MetricCalculationRow","metrics","metricCalc","MetricMonthly","num","MetricQuarterly","actual","MetricAnnuals","highlight","lowlight","correction"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Link} from 'react-router-dom';\r\nimport { Table, Button, ButtonGroup, ButtonToolbar} from 'reactstrap';\r\nimport {Card, CardImg, CardText, CardBody, CardTitle, CardDeck, CardGroup } from 'reactstrap';\r\n\r\nimport './index.js';\r\nimport './css/DashBoard.css';\r\n\r\nimport firebase from 'firebase/app';\r\n\r\nexport class DashBoard extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            // Calculations should have the same array lengths...\r\n            // Work on centralizing the data so we aren't hoping\r\n            // everything is operating on the same index of the array\r\n            metricAreaCalculationsMonth: [],\r\n            metricAreaCalculationsQuarter: [],\r\n            metricAreaCalculationsAnnual: [],\r\n            currentCalculation: 0 // Will always default to the first value in an array\r\n        }\r\n    }\r\n\r\n    // Do any information retrieval here\r\n    componentDidMount() {\r\n        // Retrieve monthly information for a metric calculation\r\n        this.renderMetricMonthly()\r\n        this.renderMetricQuarterly()    \r\n    }\r\n\r\n    // Convert map to an array in the state\r\n    arrayMonthCalculations(map) {\r\n        this.setState((state) => {\r\n            let monthArray = Array.from(map.entries()).map((key) => {\r\n                return key\r\n            })\r\n            state.metricAreaCalculationsMonth = monthArray\r\n            return state\r\n        })\r\n    }\r\n    \r\n    // Convert a map to an array in the state\r\n    arrayQuarterCalculations(map) {\r\n        this.setState((state) => {\r\n            let quarterArray = Array.from(map.entries()).map((key) => {\r\n                return key\r\n            })\r\n            state.metricAreaCalculationsQuarter = quarterArray\r\n            return state\r\n        })\r\n    }\r\n\r\n    renderMetricMonthly = () => {\r\n        let rootPath = firebase.database().ref('metricGoalsMonths')\r\n        let monthMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val();\r\n            let keys = Object.keys(info);\r\n            keys.map((key) => {\r\n                let intKey = parseInt(key, 10)\r\n                // If the our prop of metric calculation IDs contains the ID, add it to the month map.\r\n                if (this.props.metricAreaCalculationIDs.includes(intKey)) {\r\n                    monthMap.set(key, info[key])\r\n                }\r\n            })\r\n            this.arrayMonthCalculations(monthMap)\r\n        })\r\n    }\r\n\r\n    renderMetricQuarterly = () => {\r\n        let rootPath = firebase.database().ref('metricGoalsQuarters')\r\n        let quarterMap = new Map()\r\n\r\n        rootPath.once('value', (snapshot) => {\r\n            let info = snapshot.val();\r\n            let keys = Object.keys(info);\r\n            keys.map((key) => {\r\n                let intKey = parseInt(key, 10)\r\n                if (this.props.metricAreaCalculationIDs.includes(intKey)) {\r\n                    quarterMap.set(key, info[key])\r\n                }\r\n            })\r\n            this.arrayQuarterCalculations(quarterMap)\r\n        })\r\n    }\r\n\r\n    // leftButtonClick() {\r\n    //     let intVal = this.state.currentCalculation\r\n    //     this.setState((state) => {\r\n    //         if (intVal = 0) {\r\n    //             state.currentCalculation = state.metricAreaCalculationsMonth.length - 1\r\n    //         } else {\r\n    //             state.currentCalculation = intVal - 1\r\n    //         }\r\n    //     })\r\n    // }\r\n\r\n    render() {\r\n        let metricElements = Array.from(this.props.metricAreaCalculations.entries()).map((key) => {\r\n            //Pass metricName, metricID into metricAreaCard as props then also pass in a list of props containing information about that specific metric\r\n            return <MetricCalculationRow\r\n                    metrics={key[1].metric}\r\n                    metricCalc={key[1].metricCalculation}\r\n                    />\r\n        })\r\n\r\n        let leftButtonString = \"<\"\r\n        let rightButtonString = \">\"\r\n        let currentMonthCalc = this.state.metricAreaCalculationsMonth\r\n        let numInt = this.state.currentCalculation\r\n        let test1 = currentMonthCalc[numInt]\r\n\r\n        if (test1) {\r\n            let test2 = test1[1]\r\n            let keys = Object.keys(test2)\r\n            keys.map((key) => {\r\n                let test3 = test2[key]\r\n                // console.log(test3)\r\n                return <MetricMonthly\r\n                            target={test3.target}\r\n                            month={test3.month}\r\n                        />\r\n            })\r\n\r\n        }\r\n    \r\n        return(        \r\n            <div className = \"body\">\r\n            <h1> {this.props.metricAreaInfo} </h1>\r\n            <h1> {this.props.metricAreaID} </h1>\r\n            <h2> Metric Area Summary </h2>\r\n            <h3> Owner: {this.props.metricAreaOwner} </h3>\r\n\r\n            <Table bordered align=\"center\">\r\n                <thead>\r\n                    <tr>\r\n                    <th> Metric </th>\r\n                    <th> Metric Calculations </th>\r\n\r\n                    </tr>\r\n                </thead>\r\n\r\n\r\n                {/* Table representing metric and metric caluclation */}\r\n                <tbody>\r\n                    {metricElements}\r\n                </tbody>\r\n            </Table>\r\n\r\n            {/* Container for current  */}\r\n            <div>\r\n                <div>\r\n                    <Button>   \r\n                        {leftButtonString}\r\n                    </Button>\r\n                    <Button>\r\n                        {rightButtonString}\r\n                    </Button>\r\n                </div>\r\n\r\n\r\n\r\n                {/* Monthly Information */}\r\n\r\n\r\n                {/* Quarterly Information */}\r\n                {\r\n                <MetricQuarterly>\r\n\r\n                </MetricQuarterly>\r\n                }\r\n                {/* Yearly Information */}\r\n                {\r\n                <MetricAnnuals>\r\n\r\n                </MetricAnnuals>\r\n                }\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\n// Represents a single row in the metric/metric calculations table\r\n// Contains all metric name and metric calculation names for a metric area\r\nclass MetricCalculationRow extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <tr>\r\n                <th>\r\n                    {this.props.metrics}\r\n                </th>\r\n                <th>\r\n                    {this.props.metricCalc}\r\n                </th>\r\n            </tr>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricMonthly extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // console.log(\"Component mounted!\")\r\n        // console.log()\r\n        // console.log(this.props.)\r\n    }\r\n\r\n    month(num) {\r\n        if (num == 1) {\r\n            return \"January\"\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n            // <div>\r\n            //     <h1>{this.props.metricCalcIDs}</h1>\r\n            //     <h2>{this.props.quarter}</h2>\r\n            //     <Table responsive>\r\n            //         <tbody>\r\n            //             <tr>\r\n            //                 <th>Actual</th>\r\n            //                 <th>Target</th>\r\n            //             </tr>\r\n            //             <tr>\r\n            //                 <th>{this.props.actual}</th>\r\n            //                 <th>{this.props.target}</th>\r\n            //             </tr>\r\n            //         </tbody>\r\n            //     </Table>\r\n            // </div>\r\n        )\r\n    }\r\n}\r\n\r\n// // Represents a single month metric component\r\n// class MetricMonthRow extends Component {\r\n//     constructor(props) {\r\n//         super(props);\r\n//     }\r\n// }\r\n\r\nclass MetricQuarterly extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Table responsive>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th>Actual</th>\r\n                            <th>Target</th>\r\n                            {/* <th>Highlights</th>\r\n                            <th>Lowlights</th>\r\n                            <th>Correction of Error</th> */}\r\n                        </tr>\r\n                        <tr>\r\n                            <th>{this.props.actual}</th>\r\n                            <th>{this.props.target}</th>\r\n                            {/* <th>{this.props.highlight}</th>\r\n                            <th>{this.props.lowlight}</th>\r\n                            <th>{this.props.correction}</th> */}\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nclass MetricAnnuals extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th>Actual</th>\r\n                            <th>Target</th>\r\n                            <th>Highlights</th>\r\n                            <th>Lowlights</th>\r\n                            <th>Correction of Error</th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th>{this.props.actual}</th>\r\n                            <th>{this.props.target}</th>\r\n                            <th>{this.props.highlight}</th>\r\n                            <th>{this.props.lowlight}</th>\r\n                            <th>{this.props.correction}</th>\r\n                        </tr>\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}